"use strict";(self.webpackChunkqui_wc=self.webpackChunkqui_wc||[]).push([["menu-element"],{7893:(B,w,_)=>{_.r(w),_.d(w,{MenuComponent:()=>We,MenuModule:()=>Xe});var C=_(6814),e=_(5879),M=_(3651),u=_(6028),x=_(7921),S=_(3620),O=_(3997),h=_(2181),g=_(9773),R=_(1631),P=_(975),H=_(7537),k=_(4664);_(9360),_(8251),_(836);var m=_(8337),f=_(8645),v=_(3019),b=_(2438),T=_(4911);_(4829);var se=_(8484),Q=_(4300),L=_(2495),V=_(9388),Y=_(2831);let N=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],standalone:!0,features:[e._Bn([{provide:m.A8,useClass:m.A8}])]})}return i})();const K=new e.OlP("cdk-menu"),E=new e.OlP("cdk-menu-stack"),oe={provide:E,deps:[[new e.FiY,new e.tp0,new e.tBr(E)]],useFactory:i=>i||new q},re=i=>({provide:E,deps:[[new e.FiY,new e.tp0,new e.tBr(E)]],useFactory:a=>a||q.inline(i)});let ce=0,q=(()=>{class i{constructor(){this.id=""+ce++,this._elements=[],this._close=new f.x,this._empty=new f.x,this._hasFocus=new f.x,this.closed=this._close,this.hasFocus=this._hasFocus.pipe((0,x.O)(!1),(0,S.b)(0),(0,O.x)()),this.emptied=this._empty,this._inlineMenuOrientation=null}static inline(t){const n=new i;return n._inlineMenuOrientation=t,n}push(t){this._elements.push(t)}close(t,n){const{focusNextOnEmpty:s,focusParentTrigger:o}={...n};if(this._elements.indexOf(t)>=0){let r;do{r=this._elements.pop(),this._close.next({item:r,focusParentTrigger:o})}while(r!==t);this.isEmpty()&&this._empty.next(s)}}closeSubMenuOf(t){let n=!1;if(this._elements.indexOf(t)>=0)for(n=this.peek()!==t;this.peek()!==t;)this._close.next({item:this._elements.pop()});return n}closeAll(t){const{focusNextOnEmpty:n,focusParentTrigger:s}={...t};if(!this.isEmpty()){for(;!this.isEmpty();){const o=this._elements.pop();o&&this._close.next({item:o,focusParentTrigger:s})}this._empty.next(n)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return null!=this._inlineMenuOrientation}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(t){this._hasFocus.next(t)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();const Z=new e.OlP("cdk-menu-trigger");let j=(()=>{class i{constructor(){this.injector=(0,e.f3M)(e.zs3),this.viewContainerRef=(0,e.f3M)(e.s_b),this.menuStack=(0,e.f3M)(E),this.opened=new e.vpe,this.closed=new e.vpe,this.overlayRef=null,this.destroyed=new f.x,this.stopOutsideClicksListener=(0,v.T)(this.closed,this.destroyed)}ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(t){this.childMenu=t}getMenuContentPortal(){return this.menuTemplateRef&&(!this._menuPortal||this.menuTemplateRef!==this._menuPortal?.templateRef)&&(this._menuPortal=new se.UE(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(t){for(let n=t;n;n=n?.parentElement??null)if(n.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||e.zs3.create({providers:[{provide:Z,useValue:this},{provide:E,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=e.lG2({type:i,hostVars:2,hostBindings:function(n,s){2&n&&e.uIk("aria-controls",null==s.childMenu?null:s.childMenu.id)("data-cdk-menu-stack-id",s.menuStack.id)}})}return i})();const G=new e.OlP("cdk-menu-aim");function $(i,a){if(!a.isTrusted)return!1;const t=i.nativeElement,n=a.keyCode;return"BUTTON"!==t.nodeName||t.disabled?"A"===t.nodeName&&n===u.K5:n===u.K5||n===u.L_}let J=(()=>{class i extends j{constructor(){super(),this._elementRef=(0,e.f3M)(e.SBq),this._overlay=(0,e.f3M)(M.aV),this._ngZone=(0,e.f3M)(e.R0b),this._changeDetectorRef=(0,e.f3M)(e.sBO),this._inputModalityDetector=(0,e.f3M)(Q.QL),this._directionality=(0,e.f3M)(V.Is,{optional:!0}),this._parentMenu=(0,e.f3M)(K,{optional:!0}),this._menuAim=(0,e.f3M)(G,{optional:!0}),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){!this.isOpen()&&null!=this.menuTemplateRef&&(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._changeDetectorRef.markForCheck(),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this._changeDetectorRef.markForCheck()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}_toggleOnKeydown(t){const n="vertical"===this._parentMenu?.orientation;switch(t.keyCode){case u.L_:case u.K5:!(0,u.Vb)(t)&&!$(this._elementRef,t)&&(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case u.SV:(0,u.Vb)(t)||this._parentMenu&&n&&"rtl"!==this._directionality?.value&&(t.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case u.oh:(0,u.Vb)(t)||this._parentMenu&&n&&"rtl"===this._directionality?.value&&(t.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case u.JH:case u.LH:(0,u.Vb)(t)||n||(t.preventDefault(),this.open(),t.keyCode===u.JH?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"))}}_handleClick(){this.toggle(),this.childMenu?.focusFirstItem("mouse")}_setHasFocus(t){this._parentMenu||this.menuStack.setHasFocus(t)}_subscribeToMouseEnter(){this._ngZone.runOutsideAngular(()=>{(0,b.R)(this._elementRef.nativeElement,"mouseenter").pipe((0,h.h)(()=>"touch"!==this._inputModalityDetector.mostRecentModality&&!this.menuStack.isEmpty()&&!this.isOpen()),(0,g.R)(this.destroyed)).subscribe(()=>{const t=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open()});this._menuAim?this._menuAim.toggle(t):t()})})}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll()}_getOverlayConfig(){return new M.X_({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withGrowAfterOpen().withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(this._parentMenu&&"horizontal"!==this._parentMenu.orientation?M.cR:M.Yy)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe((0,g.R)(this.destroyed)).subscribe(({item:t})=>{t===this.childMenu&&this.close()})}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe((0,g.R)(this.stopOutsideClicksListener)).subscribe(t=>{const n=(0,Y.sA)(t),s=this._elementRef.nativeElement;n!==s&&!s.contains(n)&&(this.isElementInsideMenuStack(n)?this._closeSiblingTriggers():this.menuStack.closeAll())})}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe((0,g.R)(this.destroyed)).subscribe(t=>{t||this.menuStack.closeAll()})}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:t})=>{t&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()})}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){const t=this._elementRef.nativeElement;"BUTTON"===t.nodeName&&!t.getAttribute("type")&&t.setAttribute("type","button")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function(n,s){1&n&&e.NdJ("focusin",function(){return s._setHasFocus(!0)})("focusout",function(){return s._setHasFocus(!1)})("keydown",function(r){return s._toggleOnKeydown(r)})("click",function(){return s._handleClick()}),2&n&&e.uIk("aria-haspopup",s.menuTemplateRef?"menu":null)("aria-expanded",null==s.menuTemplateRef?null:s.isOpen())},inputs:{menuTemplateRef:["cdkMenuTriggerFor","menuTemplateRef"],menuPosition:["cdkMenuPosition","menuPosition"],menuData:["cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],standalone:!0,features:[e._Bn([{provide:Z,useExisting:i},oe]),e.qOj]})}return i})(),D=(()=>{class i{get disabled(){return this._disabled}set disabled(t){this._disabled=(0,L.Ig)(t)}get hasMenu(){return null!=this._menuTrigger?.menuTemplateRef}constructor(){this._dir=(0,e.f3M)(V.Is,{optional:!0}),this._elementRef=(0,e.f3M)(e.SBq),this._ngZone=(0,e.f3M)(e.R0b),this._inputModalityDetector=(0,e.f3M)(Q.QL),this._menuAim=(0,e.f3M)(G,{optional:!0}),this._menuStack=(0,e.f3M)(E),this._parentMenu=(0,e.f3M)(K,{optional:!0}),this._menuTrigger=(0,e.f3M)(J,{optional:!0,self:!0}),this._disabled=!1,this.triggered=new e.vpe,this._tabindex=-1,this.closeOnSpacebarTrigger=!0,this.destroyed=new f.x,this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(t){const{keepOpen:n}={...t};!this.disabled&&!this.hasMenu&&(this.triggered.next(),n||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(t){this.disabled||(!t||!this._menuStack.isEmpty())&&(this._tabindex=0)}_onKeydown(t){switch(t.keyCode){case u.L_:case u.K5:!(0,u.Vb)(t)&&!$(this._elementRef,t)&&this.trigger({keepOpen:t.keyCode===u.L_&&!this.closeOnSpacebarTrigger});break;case u.SV:(0,u.Vb)(t)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._forwardArrowPressed(t):this._backArrowPressed(t));break;case u.oh:(0,u.Vb)(t)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._backArrowPressed(t):this._forwardArrowPressed(t))}}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(t){const n=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(t.preventDefault(),this._menuStack.close(n,{focusNextOnEmpty:"horizontal"===this._menuStack.inlineMenuOrientation()?1:2,focusParentTrigger:!0}))}_forwardArrowPressed(t){!this.hasMenu&&"horizontal"===this._menuStack.inlineMenuOrientation()&&(t.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:0,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){const t=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._ngZone.runOutsideAngular(()=>(0,b.R)(this._elementRef.nativeElement,"mouseenter").pipe((0,h.h)(()=>"touch"!==this._inputModalityDetector.mostRecentModality&&!this._menuStack.isEmpty()&&!this.hasMenu),(0,g.R)(this.destroyed)).subscribe(()=>{this._menuAim?this._menuAim.toggle(t):t()}))}}_isParentVertical(){return"vertical"===this._parentMenu?.orientation}_setType(){const t=this._elementRef.nativeElement;"BUTTON"===t.nodeName&&!t.getAttribute("type")&&t.setAttribute("type","button")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:2,hostBindings:function(n,s){1&n&&e.NdJ("blur",function(){return s._resetTabIndex()})("focus",function(){return s._setTabIndex()})("click",function(){return s.trigger()})("keydown",function(r){return s._onKeydown(r)}),2&n&&(e.Ikx("tabindex",s._tabindex),e.uIk("aria-disabled",s.disabled||null))},inputs:{disabled:["cdkMenuItemDisabled","disabled"],typeaheadLabel:["cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"],standalone:!0})}return i})();class me{constructor(a){this._items=a,this.entered=this._getItemPointerEntries(),this.exited=this._getItemPointerExits(),this._destroyed=new f.x,this.entered.subscribe(t=>this.activeElement=t),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=void 0})}destroy(){this._destroyed.next(),this._destroyed.complete()}_getItemPointerEntries(){return(0,T.P)(()=>this._items.changes.pipe((0,x.O)(this._items),(0,R.z)(a=>a.map(t=>(0,b.R)(t._elementRef.nativeElement,"mouseenter").pipe((0,P.h)(t),(0,g.R)(this._items.changes)))),(0,H.J)()))}_getItemPointerExits(){return(0,T.P)(()=>this._items.changes.pipe((0,x.O)(this._items),(0,R.z)(a=>a.map(t=>(0,b.R)(t._elementRef.nativeElement,"mouseout").pipe((0,P.h)(t),(0,g.R)(this._items.changes)))),(0,H.J)()))}}let fe=0,W=(()=>{class i extends N{constructor(){super(...arguments),this.nativeElement=(0,e.f3M)(e.SBq).nativeElement,this.ngZone=(0,e.f3M)(e.R0b),this.menuStack=(0,e.f3M)(E),this.menuAim=(0,e.f3M)(G,{optional:!0,self:!0}),this.dir=(0,e.f3M)(V.Is,{optional:!0}),this.id="cdk-menu-"+fe++,this.orientation="vertical",this.isInline=!1,this.destroyed=new f.x,this._menuStackHasFocus=!1}ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(t="program"){this.keyManager.setFocusOrigin(t),this.keyManager.setFirstItemActive()}focusLastItem(t="program"){this.keyManager.setFocusOrigin(t),this.keyManager.setLastItemActive()}_getTabIndex(){return this.isInline?this._menuStackHasFocus?-1:0:null}closeOpenMenu(t,n){const{focusParentTrigger:s}={...n},o=this.keyManager,r=this.triggerItem;t===r?.getMenuTrigger()?.getMenu()&&(r?.getMenuTrigger()?.close(),s&&(r?o.setActiveItem(r):o.setFirstItemActive()))}_setKeyManager(){this.keyManager=new Q.Em(this.items).withWrap().withTypeAhead().withHomeAndEnd(),"horizontal"===this.orientation?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){const t=(0,v.T)(this.items.changes,this.destroyed);this.items.changes.pipe((0,x.O)(this.items),(0,R.z)(n=>n.filter(s=>s.hasMenu).map(s=>s.getMenuTrigger().opened.pipe((0,P.h)(s),(0,g.R)(t)))),(0,H.J)(),(0,k.w)(n=>(this.triggerItem=n,n.getMenuTrigger().closed)),(0,g.R)(this.destroyed)).subscribe(()=>this.triggerItem=void 0)}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe((0,g.R)(this.destroyed)).subscribe(({item:t,focusParentTrigger:n})=>this.closeOpenMenu(t,{focusParentTrigger:n}))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe((0,g.R)(this.destroyed)).subscribe(t=>{this._menuStackHasFocus=t})}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new me(this.items)}),this.menuAim.initialize(this,this.pointerTracker))}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=e.n5z(i)))(s||i)}}();static#t=this.\u0275dir=e.lG2({type:i,contentQueries:function(n,s,o){if(1&n&&e.Suo(o,D,5),2&n){let r;e.iGM(r=e.CRH())&&(s.items=r)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(n,s){1&n&&e.NdJ("focus",function(){return s.focusFirstItem()})("focusin",function(){return s.menuStack.setHasFocus(!0)})("focusout",function(){return s.menuStack.setHasFocus(!1)}),2&n&&(e.Ikx("tabindex",s._getTabIndex())("id",s.id),e.uIk("aria-orientation",s.orientation)("data-cdk-menu-stack-id",s.menuStack.id))},inputs:{id:"id"},features:[e.qOj]})}return i})(),U=(()=>{class i extends W{constructor(){super(),this._parentTrigger=(0,e.f3M)(Z,{optional:!0}),this.closed=new e.vpe,this.orientation="vertical",this.isInline=!this._parentTrigger,this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(t){const n=this.keyManager;switch(t.keyCode){case u.oh:case u.SV:(0,u.Vb)(t)||(t.preventDefault(),n.setFocusOrigin("keyboard"),n.onKeydown(t));break;case u.hY:(0,u.Vb)(t)||(t.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:2,focusParentTrigger:!0}));break;case u.Mf:(0,u.Vb)(t,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:n.onKeydown(t)}}_toggleMenuFocus(t){const n=this.keyManager;switch(t){case 0:n.setFocusOrigin("keyboard"),n.setNextItemActive();break;case 1:n.setFocusOrigin("keyboard"),n.setPreviousItemActive();break;case 2:n.activeItem&&(n.setFocusOrigin("keyboard"),n.setActiveItem(n.activeItem))}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe((0,g.R)(this.destroyed)).subscribe(t=>this._toggleMenuFocus(t))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(n,s){1&n&&e.NdJ("keydown",function(r){return s._handleKeyEvent(r)}),2&n&&e.ekj("cdk-menu-inline",s.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],standalone:!0,features:[e._Bn([{provide:N,useExisting:i},{provide:K,useExisting:i},re("vertical")]),e.qOj]})}return i})(),X=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[M.U8]})}return i})();var ee=_(6569),te=_(8631);let Te=(()=>{class i{constructor(t,n,s){this._viewContainerRef=t,this._cdkMenuTrigger=n,this._ngZone=s,this._host=this._viewContainerRef.element.nativeElement}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._btn=this._host?.querySelector("button"),this._btn&&(this._cdkMenuTrigger.opened.subscribe(()=>{this._host.removeAttribute("aria-expanded"),this._btn?.setAttribute("aria-expanded","true")}),this._cdkMenuTrigger.closed.subscribe(()=>{this._host.removeAttribute("aria-expanded"),this._btn?.setAttribute("aria-expanded","false")}))})}ngAfterViewChecked(){this._btn&&this._host.ariaExpanded&&(this._btn?.setAttribute("aria-expanded",this._cdkMenuTrigger.isOpen()),this._cdkMenuTrigger.menuTemplateRef&&this._btn?.setAttribute("aria-haspopup","menu"),this._host.hasAttribute("aria-controls")&&this._btn?.setAttribute("aria-controls",this._host.getAttribute("aria-controls")),this._host?.removeAttribute("role"),this._host?.removeAttribute("aria-expanded"),this._host?.removeAttribute("aria-haspopup"),this._host?.removeAttribute("aria-controls"))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.s_b),e.Y36(J),e.Y36(e.R0b))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","cdkMenuTriggerFor",""],["","cdk-menu-trigger-for",""]],exportAs:["cdkMenuTriggerFor"]})}return i})();var Ce=_(6593);const ve=["menu"],Ie=["childMenu"],we=["menuRef"],Ee=["menuItem"];function Se(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"qui-ng-cta",12,13),e.NdJ("focusin",function(s){e.CHM(t);const o=e.oxw(6);return e.KtG(o.onFocusIn(s))})("keydown",function(s){e.CHM(t);const o=e.oxw(4).$implicit,r=e.oxw(2);return e.KtG(r.onKeyDown(s,o))}),e.TgZ(2,"div",14),e._uU(3),e.qZA(),e.TgZ(4,"span",15),e._UZ(5,"qui-ng-icon",16),e.qZA()()}if(2&i){const t=a.ngIf,n=e.oxw(2),s=n.$implicit,o=n.index,r=e.oxw(4);e.MT6("grouped-item\n\t\t\t\t\t\t\t",!0===s.disabled?"disabled":"","\n\t\t\t\t\t\t\t",r.checkIfValueExist(s)>-1&&s.childItems[o].isSelected?"selected":"",""),e.s9C("href",s.href),e.s9C("iconName",s.icon),e.Q6J("disabled",s.disabled)("cdkMenuItemDisabled",s.disabled)("cdkMenuTriggerFor",t)("ctaType",s.href?"link":"button")("ctaAppearance",s.href?"inherit":"link")("variant",s.href?"flat":"basic")("target",s.target),e.uIk("arial-label",s.value),e.xp6(3),e.Oqu(s.value)}}function Ae(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.YNc(1,Se,6,15,"qui-ng-cta",9),e.TgZ(2,"qui-ng-menu",10,11),e.NdJ("quiMenuItemSelected",function(s){e.CHM(t);const o=e.oxw(5);return e.KtG(o.emitSelectedValue(s))}),e.qZA(),e.BQk()}if(2&i){const t=e.MAs(3),n=e.oxw().$implicit,s=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.menuPanel),e.xp6(1),e.Q6J("menuItems",n.childItems)("selectedValue",s.selectedValue)("maxHeight",s.maxHeight)("width",s.width)}}function Oe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"qui-ng-cta",17,13),e.NdJ("focusin",function(s){e.CHM(t);const o=e.oxw(5);return e.KtG(o.onFocusIn(s))})("keydown",function(s){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.onKeyDown(s,o))})("cdkMenuItemTriggered",function(){e.CHM(t);const s=e.oxw(),o=s.$implicit,r=s.index,p=e.oxw(4);return e.KtG(p.emitSelectedValue(o.value,r))}),e._uU(2),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.MT6("grouped-item\n\t\t\t\t\t\t\t",!0===t.disabled?"disabled":"","\n\t\t\t\t\t\t\t",t.isSelected?"selected":"",""),e.s9C("href",t.href),e.s9C("iconName",t.icon),e.Q6J("disabled",t.disabled)("cdkMenuItemDisabled",t.disabled)("ctaType",t.href?"link":"button")("ctaAppearance",t.href?"inherit":"link")("variant",t.href?"flat":"basic")("target",t.target),e.uIk("arial-label",t.value),e.xp6(2),e.hij(" ",t.value," ")}}function De(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Ae,4,5,"ng-container",0),e.YNc(2,Oe,3,14,"ng-template",null,8,e.W1O),e.BQk()),2&i){const t=a.$implicit,n=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.childItems)("ngIfElse",n)}}function Re(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"span",7),e._uU(2),e.qZA(),e.YNc(3,De,4,2,"ng-container",4),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.value),e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Fe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"qui-ng-cta",12,13),e.NdJ("focusin",function(s){e.CHM(t);const o=e.oxw(5);return e.KtG(o.onFocusIn(s))})("keydown",function(s){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.onKeyDown(s,o))}),e.TgZ(2,"div",14),e._uU(3),e.qZA(),e.TgZ(4,"span",15),e._UZ(5,"qui-ng-icon",16),e.qZA()()}if(2&i){const t=a.ngIf,n=e.oxw(3).$implicit,s=e.oxw(2);e.MT6("",!0===n.disabled?"disabled":"","\n\t\t\t\t\t\t",s.checkIfValueExist(n)>-1&&n.isSelected?"selected":"",""),e.s9C("href",n.href),e.s9C("iconName",n.icon),e.Q6J("disabled",n.disabled)("cdkMenuItemDisabled",n.disabled)("cdkMenuTriggerFor",t)("ctaType",n.href?"link":"button")("ctaAppearance",n.href?"inherit":"link")("variant",n.href?"flat":"basic")("target",n.target),e.uIk("arial-label",n.value),e.xp6(3),e.Oqu(n.value)}}function Pe(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.YNc(1,Fe,6,15,"qui-ng-cta",9),e.TgZ(2,"qui-ng-menu",10,11),e.NdJ("quiMenuItemSelected",function(s){e.CHM(t);const o=e.oxw(2).index,r=e.oxw(2);return e.KtG(r.emitSelectedValue(s,o))}),e.qZA(),e.BQk()}if(2&i){const t=e.MAs(3),n=e.oxw(2).$implicit,s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.menuPanel),e.xp6(1),e.Q6J("menuItems",n.childItems)("selectedValue",s.selectedValue)("maxHeight",s.maxHeight)("width",s.width)}}function He(i,a){if(1&i&&e.YNc(0,Pe,4,5,"ng-container",0),2&i){const t=e.oxw().$implicit,n=e.MAs(5),s=e.oxw(2);e.Q6J("ngIf",s.isNestedMenu(t))("ngIfElse",n)}}function Be(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"qui-ng-cta",18,13),e.NdJ("focusin",function(s){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onFocusIn(s))})("keydown",function(s){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.onKeyDown(s,o))})("cdkMenuItemTriggered",function(){e.CHM(t);const s=e.oxw(),o=s.$implicit,r=s.index,p=e.oxw(2);return e.KtG(p.emitSelectedValue(o,r))}),e._uU(2),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.MT6("",t.isSelected?"selected":"","\n\t\t\t\t\t",!0===t.disabled?"disabled":""," "),e.s9C("href",t.href),e.s9C("iconName",t.icon),e.Q6J("disabled",t.disabled)("cdkMenuItemDisabled",t.disabled)("ctaType",t.href?"link":"button")("ctaAppearance",t.href?"inherit":"link")("variant",t.href?"flat":"basic")("target",t.target),e.uIk("arial-label",t.value),e.xp6(2),e.hij(" ",t.value," ")}}function Ve(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Re,4,2,"ng-container",0),e.YNc(2,He,1,2,"ng-template",null,5,e.W1O),e.YNc(4,Be,3,14,"ng-template",null,6,e.W1O),e.BQk()),2&i){const t=a.$implicit,n=e.MAs(3),s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",s.isGroupedMenu(t))("ngIfElse",n)}}function Ne(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",2,3),e.YNc(3,Ve,6,2,"ng-container",4),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.vpz("max-height: ",t.maxHeight,"; width: ",t.width,";"),e.xp6(2),e.Q6J("ngForOf",t.menuItems)}}function Ke(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"qui-ng-cta",12,13),e.NdJ("focusin",function(s){e.CHM(t);const o=e.oxw(7);return e.KtG(o.onFocusIn(s))})("keydown",function(s){e.CHM(t);const o=e.oxw(4).$implicit,r=e.oxw(3);return e.KtG(r.onKeyDown(s,o))}),e.TgZ(2,"div",14),e._uU(3),e.qZA(),e.TgZ(4,"span",15),e._UZ(5,"qui-ng-icon",16),e.qZA()()}if(2&i){const t=a.ngIf,n=e.oxw(2),s=n.$implicit,o=n.index,r=e.oxw(5);e.MT6("grouped-item\n\t\t\t\t\t\t\t\t",!0===s.disabled?"disabled":"","\n\t\t\t\t\t\t\t\t",r.checkIfValueExist(s)>-1&&s.childItems[o].isSelected?"selected":"",""),e.s9C("href",s.href),e.s9C("iconName",s.icon),e.Q6J("disabled",s.disabled)("cdkMenuItemDisabled",s.disabled)("cdkMenuTriggerFor",t)("ctaType",s.href?"link":"button")("ctaAppearance",s.href?"inherit":"link")("variant",s.href?"flat":"basic")("target",s.target),e.uIk("arial-label",s.value),e.xp6(3),e.Oqu(s.value)}}function qe(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.YNc(1,Ke,6,15,"qui-ng-cta",9),e.TgZ(2,"qui-ng-menu",10,11),e.NdJ("quiMenuItemSelected",function(s){e.CHM(t);const o=e.oxw(6);return e.KtG(o.emitSelectedValue(s))}),e.qZA(),e.BQk()}if(2&i){const t=e.MAs(3),n=e.oxw().$implicit,s=e.oxw(5);e.xp6(1),e.Q6J("ngIf",t.menuPanel),e.xp6(1),e.Q6J("menuItems",n.childItems)("selectedValue",s.selectedValue)("maxHeight",s.maxHeight)("width",s.width)}}function Ze(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"qui-ng-cta",17,13),e.NdJ("focusin",function(s){e.CHM(t);const o=e.oxw(6);return e.KtG(o.onFocusIn(s))})("keydown",function(s){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(3);return e.KtG(r.onKeyDown(s,o))})("cdkMenuItemTriggered",function(){e.CHM(t);const s=e.oxw(),o=s.$implicit,r=s.index,p=e.oxw(5);return e.KtG(p.emitSelectedValue(o.value,r))}),e._uU(2),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.MT6("grouped-item\n\t\t\t\t\t\t\t\t",!0===t.disabled?"disabled":"","\n\t\t\t\t\t\t\t\t",t.isSelected?"selected":"",""),e.s9C("href",t.href),e.s9C("iconName",t.icon),e.Q6J("disabled",t.disabled)("cdkMenuItemDisabled",t.disabled)("ctaType",t.href?"link":"button")("ctaAppearance",t.href?"inherit":"link")("variant",t.href?"flat":"basic")("target",t.target),e.uIk("arial-label",t.value),e.xp6(2),e.hij(" ",t.value," ")}}function Ge(i,a){if(1&i&&(e.ynx(0),e.YNc(1,qe,4,5,"ng-container",0),e.YNc(2,Ze,3,14,"ng-template",null,8,e.W1O),e.BQk()),2&i){const t=a.$implicit,n=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.childItems)("ngIfElse",n)}}function Je(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"span",7),e._uU(2),e.qZA(),e.YNc(3,Ge,4,2,"ng-container",4),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.value),e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Qe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"qui-ng-cta",12,13),e.NdJ("focusin",function(s){e.CHM(t);const o=e.oxw(6);return e.KtG(o.onFocusIn(s))})("keydown",function(s){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(3);return e.KtG(r.onKeyDown(s,o))}),e.TgZ(2,"div",14),e._uU(3),e.qZA(),e.TgZ(4,"span",15),e._UZ(5,"qui-ng-icon",16),e.qZA()()}if(2&i){const t=a.ngIf,n=e.oxw(3).$implicit,s=e.oxw(3);e.MT6("",!0===n.disabled?"disabled":"","\n\t\t\t\t\t\t\t",s.checkIfValueExist(n)>-1&&n.isSelected?"selected":"",""),e.s9C("href",n.href),e.s9C("iconName",n.icon),e.Q6J("disabled",n.disabled)("cdkMenuItemDisabled",n.disabled)("cdkMenuTriggerFor",t)("ctaType",n.href?"link":"button")("ctaAppearance",n.href?"inherit":"link")("variant",n.href?"flat":"basic")("target",n.target),e.uIk("arial-label",n.value),e.xp6(3),e.Oqu(n.value)}}function Le(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.YNc(1,Qe,6,15,"qui-ng-cta",9),e.TgZ(2,"qui-ng-menu",10,11),e.NdJ("quiMenuItemSelected",function(s){e.CHM(t);const o=e.oxw(2).index,r=e.oxw(3);return e.KtG(r.emitSelectedValue(s,o))}),e.qZA(),e.BQk()}if(2&i){const t=e.MAs(3),n=e.oxw(2).$implicit,s=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.menuPanel),e.xp6(1),e.Q6J("menuItems",n.childItems)("selectedValue",s.selectedValue)("maxHeight",s.maxHeight)("width",s.width)}}function Ue(i,a){if(1&i&&e.YNc(0,Le,4,5,"ng-container",0),2&i){const t=e.oxw().$implicit,n=e.MAs(5),s=e.oxw(3);e.Q6J("ngIf",s.isNestedMenu(t))("ngIfElse",n)}}function Ye(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"qui-ng-cta",18,13),e.NdJ("focusin",function(s){e.CHM(t);const o=e.oxw(4);return e.KtG(o.onFocusIn(s))})("keydown",function(s){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.onKeyDown(s,o))})("cdkMenuItemTriggered",function(){e.CHM(t);const s=e.oxw(),o=s.$implicit,r=s.index,p=e.oxw(3);return e.KtG(p.emitSelectedValue(o,r))}),e._uU(2),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.MT6("",t.isSelected?"selected":"","\n\t\t\t\t\t\t",!0===t.disabled?"disabled":""," "),e.s9C("href",t.href),e.s9C("iconName",t.icon),e.Q6J("disabled",t.disabled)("cdkMenuItemDisabled",t.disabled)("ctaType",t.href?"link":"button")("ctaAppearance",t.href?"inherit":"link")("variant",t.href?"flat":"basic")("target",t.target),e.uIk("arial-label",t.value),e.xp6(2),e.hij(" ",t.value," ")}}function je(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Je,4,2,"ng-container",0),e.YNc(2,Ue,1,2,"ng-template",null,5,e.W1O),e.YNc(4,Ye,3,14,"ng-template",null,6,e.W1O),e.BQk()),2&i){const t=a.$implicit,n=e.MAs(3),s=e.oxw(3);e.xp6(1),e.Q6J("ngIf",s.isGroupedMenu(t))("ngIfElse",n)}}function ze(i,a){if(1&i&&(e.TgZ(0,"div",2,3),e.YNc(2,je,6,2,"ng-container",4),e.qZA()),2&i){const t=e.oxw(2);e.vpz("max-height: ",t.maxHeight,"; width: ",t.width,";"),e.xp6(2),e.Q6J("ngForOf",t.menuItems)}}function $e(i,a){1&i&&e.YNc(0,ze,3,5,"ng-template",null,19,e.W1O)}let We=(()=>{class i{constructor(t){this.sanitizer=t,this.hostClass=!0,this.selectedValue="",this.menuItems=[],this.isWebComponent=!1,this.maxHeight="250px",this.width="224px",this.quiMenuItemSelected=new e.vpe}ngOnInit(){"string"==typeof this.menuItems&&(this.menuItems=JSON.parse(this.menuItems))}ngAfterViewInit(){this.allCdkMenuItems.changes.subscribe(t=>{const n=requestAnimationFrame(()=>{cancelAnimationFrame(n);const o=this.allCdkMenu._results[0];if(o&&("mouse"===o?._parentTrigger?._inputModalityDetector.mostRecentModality?o.nativeElement.classList.add("mouse-focus"):o.nativeElement.classList.remove("mouse-focus")),o?._parentTrigger?.isOpen()){const r=this.allCdkMenu._results[0].keyManager;let p=-1;t.filter((et,tt)=>{const ne=et?._elementRef.nativeElement.classList.contains("selected");return ne&&(p=tt),ne}).length>0?(r._activeItemIndex=p,r._activeItem=t._results[p],t._results[p]._elementRef.nativeElement.children[0].focus(),t._results[p]._elementRef.nativeElement.children[0].setAttribute("role","option"),t._results[p]._elementRef.nativeElement.children[0].setAttribute("aria-selected","true")):(r._activeItemIndex=0,r._activeItem=t._results[0],t._results[0]._elementRef.nativeElement.children[0].focus())}}),s=this.allCdkMenu._results[0]?._parentTrigger?.closed.subscribe(()=>{const o=this.allCdkMenu._results[0]._parentTrigger._elementRef.nativeElement.children[0];o.setAttribute("tabindex","0"),setTimeout(()=>{o.focus()},200),s.unsubscribe()})})}isNestedMenu(t){return t.childItems&&t.childItems.length>0}isGroupedMenu(t){return t.section}emitSelectedValue(t,n){this.menuItems.map((s,o)=>{s.isSelected=!1,o===n&&(s.isSelected=!s.isSelected)}),this.selectedValue=t.value,this.selectedValue&&this.quiMenuItemSelected.emit(t)}checkIfValueExist(t){return JSON.stringify(t).indexOf(this.selectedValue)}onKeyDown(t,n){if(t.preventDefault(),("ArrowUp"===t?.key||"ArrowDown"===t?.key)&&this.allCdkMenu._results[0].nativeElement.classList.remove("mouse-focus"),("Enter"===t?.key||" "===t?.key)&&n.href){const s=this.sanitizer.sanitize(4,n.href);window.open(s,n.target)}}onFocusIn(t){if(t.composedPath()[0]===t.currentTarget){const n=t.currentTarget.children[0];n.setAttribute("tabindex","0"),n.setAttribute("role","option"),t.currentTarget.classList.contains("selected")?n.setAttribute("aria-selected","true"):n.setAttribute("aria-selected","false"),this.allCdkMenu._results[0]?._parentTrigger?.isOpen()&&n.focus()}}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(Ce.H7))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["qui-ng-menu"]],viewQuery:function(n,s){if(1&n&&(e.Gf(ve,5,e.Rgc),e.Gf(Ie,5,e.Rgc),e.Gf(we,5,U),e.Gf(Ee,5,D)),2&n){let o;e.iGM(o=e.CRH())&&(s.menuPanel=o.first),e.iGM(o=e.CRH())&&(s.childMenu=o.first),e.iGM(o=e.CRH())&&(s.allCdkMenu=o),e.iGM(o=e.CRH())&&(s.allCdkMenuItems=o)}},hostVars:2,hostBindings:function(n,s){2&n&&e.ekj("qui-menu",s.hostClass)},inputs:{selectedValue:"selectedValue",menuItems:"menuItems",isWebComponent:"isWebComponent",maxHeight:"maxHeight",width:"width"},outputs:{quiMenuItemSelected:"quiMenuItemSelected"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["menuTemplate",""],["cdkMenu","","role","menu",1,"menu-container"],["menuRef",""],[4,"ngFor","ngForOf"],["nestedMenuTemplate",""],["defaultMenuTemplate",""],[1,"label"],["simpleGroupedTemplate",""],["cdkMenuItem","","iconPosition","left","iconSize","medium","tabindex","-1",3,"class","disabled","cdkMenuItemDisabled","cdkMenuTriggerFor","href","ctaType","ctaAppearance","variant","target","iconName","focusin","keydown",4,"ngIf"],[3,"menuItems","selectedValue","maxHeight","width","quiMenuItemSelected"],["menuComponent",""],["cdkMenuItem","","iconPosition","left","iconSize","medium","tabindex","-1",3,"disabled","cdkMenuItemDisabled","cdkMenuTriggerFor","href","ctaType","ctaAppearance","variant","target","iconName","focusin","keydown"],["menuItem",""],[1,"group-parent-title"],[1,"nested-arrow"],["size","lg","iconName","chevron_right"],["cdkMenuItem","","iconPosition","left","iconSize","medium","tabindex","-1",3,"disabled","cdkMenuItemDisabled","href","ctaType","ctaAppearance","variant","target","iconName","focusin","keydown","cdkMenuItemTriggered"],["cdkMenuItem","","iconPosition","left","iconSize","medium","tabindex","-1",3,"disabled","cdkMenuItemDisabled","href","ctaType","ctaAppearance","variant","iconName","target","focusin","keydown","cdkMenuItemTriggered"],["menu",""]],template:function(n,s){if(1&n&&(e.YNc(0,Ne,4,5,"ng-container",0),e.YNc(1,$e,2,0,"ng-template",null,1,e.W1O)),2&n){const o=e.MAs(2);e.Q6J("ngIf",s.isWebComponent)("ngIfElse",o)}},dependencies:function(){return[C.sg,C.O5,ee.o,U,D,J,te.Y,i,Te]}})}return i})(),Xe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[C.ez,ee.Q,X,te.g,X]})}return i})()},3168:(B,w,_)=>{_.d(w,{c:()=>S});var C=_(5592),e=_(7394),M=_(6196),u=_(8251),x=_(9360);class S extends C.y{constructor(h,g){super(),this.source=h,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,x.A)(h)&&(this.lift=h.lift)}_subscribe(h){return this.getSubject().subscribe(h)}getSubject(){const h=this._subject;return(!h||h.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:h}=this;this._subject=this._connection=null,h?.unsubscribe()}connect(){let h=this._connection;if(!h){h=this._connection=new e.w0;const g=this.getSubject();h.add(this.source.subscribe((0,u.x)(g,void 0,()=>{this._teardown(),g.complete()},R=>{this._teardown(),g.error(R)},()=>this._teardown()))),h.closed&&(this._connection=null,h=e.w0.EMPTY)}return h}refCount(){return(0,M.x)()(this)}}},4911:(B,w,_)=>{_.d(w,{P:()=>M});var C=_(5592),e=_(4829);function M(u){return new C.y(x=>{(0,e.Xf)(u()).subscribe(x)})}},6196:(B,w,_)=>{_.d(w,{x:()=>M});var C=_(9360),e=_(8251);function M(){return(0,C.e)((u,x)=>{let S=null;u._refCount++;const O=(0,e.x)(x,void 0,void 0,void 0,()=>{if(!u||u._refCount<=0||0<--u._refCount)return void(S=null);const h=u._connection,g=S;S=null,h&&(!g||h===g)&&h.unsubscribe(),x.unsubscribe()});u.subscribe(O),O.closed||(S=u.connect())})}},8337:(B,w,_)=>{_.d(w,{A8:()=>P,Ov:()=>g,Z9:()=>x,eX:()=>h,k:()=>H,o2:()=>u,yy:()=>O});var C=_(3168),e=_(8645),M=_(5879);class u{}function x(k){return k&&"function"==typeof k.connect&&!(k instanceof C.c)}class O{applyChanges(c,l,d,y,m){c.forEachOperation((f,v,b)=>{let T,I;if(null==f.previousIndex){const A=d(f,v,b);T=l.createEmbeddedView(A.templateRef,A.context,A.index),I=1}else null==b?(l.remove(v),I=3):(T=l.get(v),l.move(T,b),I=2);m&&m({context:T?.context,operation:I,record:f})})}detach(){}}class h{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(c,l,d,y,m){c.forEachOperation((f,v,b)=>{let T,I;null==f.previousIndex?(T=this._insertView(()=>d(f,v,b),b,l,y(f)),I=T?1:0):null==b?(this._detachAndCacheView(v,l),I=3):(T=this._moveView(v,b,l,y(f)),I=2),m&&m({context:T?.context,operation:I,record:f})})}detach(){for(const c of this._viewCache)c.destroy();this._viewCache=[]}_insertView(c,l,d,y){const m=this._insertViewFromCache(l,d);if(m)return void(m.context.$implicit=y);const f=c();return d.createEmbeddedView(f.templateRef,f.context,f.index)}_detachAndCacheView(c,l){const d=l.detach(c);this._maybeCacheView(d,l)}_moveView(c,l,d,y){const m=d.get(c);return d.move(m,l),m.context.$implicit=y,m}_maybeCacheView(c,l){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(c);else{const d=l.indexOf(c);-1===d?c.destroy():l.remove(d)}}_insertViewFromCache(c,l){const d=this._viewCache.pop();return d&&l.insert(d,c),d||null}}class g{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(c=!1,l,d=!0,y){this._multiple=c,this._emitChanges=d,this.compareWith=y,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new e.x,l&&l.length&&(c?l.forEach(m=>this._markSelected(m)):this._markSelected(l[0]),this._selectedToEmit.length=0)}select(...c){this._verifyValueAssignment(c),c.forEach(d=>this._markSelected(d));const l=this._hasQueuedChanges();return this._emitChangeEvent(),l}deselect(...c){this._verifyValueAssignment(c),c.forEach(d=>this._unmarkSelected(d));const l=this._hasQueuedChanges();return this._emitChangeEvent(),l}setSelection(...c){this._verifyValueAssignment(c);const l=this.selected,d=new Set(c);c.forEach(m=>this._markSelected(m)),l.filter(m=>!d.has(m)).forEach(m=>this._unmarkSelected(m));const y=this._hasQueuedChanges();return this._emitChangeEvent(),y}toggle(c){return this.isSelected(c)?this.deselect(c):this.select(c)}clear(c=!0){this._unmarkAll();const l=this._hasQueuedChanges();return c&&this._emitChangeEvent(),l}isSelected(c){return this._selection.has(this._getConcreteValue(c))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(c){this._multiple&&this.selected&&this._selected.sort(c)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(c){c=this._getConcreteValue(c),this.isSelected(c)||(this._multiple||this._unmarkAll(),this.isSelected(c)||this._selection.add(c),this._emitChanges&&this._selectedToEmit.push(c))}_unmarkSelected(c){c=this._getConcreteValue(c),this.isSelected(c)&&(this._selection.delete(c),this._emitChanges&&this._deselectedToEmit.push(c))}_unmarkAll(){this.isEmpty()||this._selection.forEach(c=>this._unmarkSelected(c))}_verifyValueAssignment(c){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(c){if(this.compareWith){for(let l of this._selection)if(this.compareWith(c,l))return l;return c}return c}}let P=(()=>{class k{constructor(){this._listeners=[]}notify(l,d){for(let y of this._listeners)y(l,d)}listen(l){return this._listeners.push(l),()=>{this._listeners=this._listeners.filter(d=>l!==d)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(d){return new(d||k)};static#t=this.\u0275prov=M.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})();const H=new M.OlP("_ViewRepeater")}}]);