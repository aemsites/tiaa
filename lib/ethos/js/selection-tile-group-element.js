"use strict";(self.webpackChunkqui_wc=self.webpackChunkqui_wc||[]).push([["selection-tile-group-element"],{2357:(I,C,u)=>{u.r(C),u.d(C,{SelectionTileGroupComponent:()=>a,SelectionTileGroupModule:()=>d});var g=u(6814),_=u(6223),e=u(5879),p=u(7466),q=u(6569),T=u(3709),m=u(8950);function A(r,b){if(1&r){const i=e.EpF();e.TgZ(0,"qui-ng-selection-tile",4),e.NdJ("quiSelectedChange",function(t){e.CHM(i);const n=e.oxw(2);return e.KtG(n._setChangedValue(t))})("keydown",function(t){const n=e.CHM(i),s=n.$implicit,h=n.index,f=e.oxw(2);return e.KtG(f._checkKey(t,s,h))})("click",function(t){const n=e.CHM(i),s=n.$implicit,h=n.index,f=e.oxw(2);return e.KtG(f._onTileClick(t,s,h))}),e._UZ(1,"qui-ng-icon",5),e.TgZ(2,"div",6),e._uU(3),e.qZA(),e.TgZ(4,"div",7),e._uU(5),e.qZA()()}if(2&r){const i=b.$implicit;e.Q6J("tabIndex","-1")("checked",i.checked)("value",i.value)("multiple",!1)("disabled",null==i?null:i.disabled)("quiAriaLabel",null==i?null:i.quiAriaLabel)("quiAriaLabelledby",null==i?null:i.quiAriaLabelledby)("quiAriaDescribedby",null==i?null:i.quiAriaDescribedby),e.xp6(1),e.s9C("iconName",null==i?null:i.iconName),e.xp6(2),e.Oqu(null==i?null:i.header),e.xp6(2),e.Oqu(null==i?null:i.content)}}function c(r,b){if(1&r){const i=e.EpF();e.TgZ(0,"mat-radio-group",2),e.NdJ("ngModelChange",function(t){e.CHM(i);const n=e.oxw();return e.KtG(n._tileValue=t)}),e.YNc(1,A,6,11,"qui-ng-selection-tile",3),e.qZA()}if(2&r){const i=e.oxw();e.Q6J("ngModel",i._tileValue),e.uIk("aria-describedby",i.quiAriaDescribedby)("aria-label",i.quiAriaLabel)("aria-labelledby",i.quiAriaLabelledby)("orientation",i.orientation),e.xp6(1),e.Q6J("ngForOf",i.tiles)}}function y(r,b){if(1&r){const i=e.EpF();e.TgZ(0,"qui-ng-selection-tile",10),e.NdJ("quiSelectedChange",function(t){e.CHM(i);const n=e.oxw(2);return e.KtG(n._setChangedValue(t))})("click",function(t){const n=e.CHM(i),s=n.$implicit,h=n.index,f=e.oxw(2);return e.KtG(f._onTileClick(t,s,h))})("keydown",function(t){const n=e.CHM(i),s=n.$implicit,h=n.index,f=e.oxw(2);return e.KtG(f._checkKey(t,s,h))}),e._UZ(1,"qui-ng-icon",5),e.TgZ(2,"div",6),e._uU(3),e.qZA(),e.TgZ(4,"div",7),e._uU(5),e.qZA()()}if(2&r){const i=b.$implicit,o=e.oxw(2);e.Q6J("tabIndex","-1")("checked",i.checked)("value",i.value)("multiple",!0)("role",o.multiple?"option":"radio")("disabled",null==i?null:i.disabled)("quiAriaLabel",null==i?null:i.quiAriaLabel)("quiAriaLabelledby",null==i?null:i.quiAriaLabelledby)("quiAriaDescribedby",null==i?null:i.quiAriaDescribedby),e.xp6(1),e.s9C("iconName",null==i?null:i.iconName),e.xp6(2),e.Oqu(null==i?null:i.header),e.xp6(2),e.Oqu(null==i?null:i.content)}}function l(r,b){if(1&r){const i=e.EpF();e.TgZ(0,"span",8),e.NdJ("ngModelChange",function(t){e.CHM(i);const n=e.oxw();return e.KtG(n._tileValue=t)}),e.YNc(1,y,6,12,"qui-ng-selection-tile",9),e.qZA()}if(2&r){const i=e.oxw();e.Q6J("ngModel",i._tileValue),e.uIk("aria-describedby",i.quiAriaDescribedby)("aria-label",i.quiAriaLabel)("aria-labelledby",i.quiAriaLabelledby)("orientation",i.orientation),e.xp6(1),e.Q6J("ngForOf",i.tiles)}}let a=(()=>{class r{set customValidation(i){this._customValidation=i,this.initializeCustomValidation()}constructor(i,o,t,n){this.host=i,this._changeDetector=o,this.ngControl=t,this.ngZone=n,this.quiAriaLabel=null,this.quiAriaDescribedby=null,this.quiAriaLabelledby=null,this.tiles=[],this.orientation="vertical",this.multiple=!1,this._tileValue="",this.defaultValue="",this.quiSelectedChange=new e.vpe,this._touched=!1,this.customValidator=s=>this._customValidation?this._customValidation(s):null,this.onChange=()=>{},this.onTouched=()=>{},null!=this.ngControl?this.ngControl.valueAccessor=this:this._control=new _.NI(this._tileValue),this.host.nativeElement.focus=this.focus.bind(this),this.host.nativeElement.controlInterface=this,this._processClickEventBound=this._processClickEvent.bind(this)}ngOnInit(){this._setDefaultValue()}ngOnChanges(){this._setDefaultValue()}ngAfterContentInit(){if(this.initializeCustomValidation(),0===this._selectionTiles?.length){const i=this.host.nativeElement.querySelectorAll("qui-wc-selection-tile");this._selectionTiles.reset(Array.from(i))}}ngAfterViewInit(){if(this._selectionTiles.length){const i=[...this._selectionTiles].filter(o=>o.checked);i.length?i[0].tabIndex="0":this._selectionTiles.first.tabIndex="0",this._selectionTiles.first.tabIndex="0",this.host.nativeElement.addEventListener("click",this._processClickEventBound)}}_processClickEvent(i){i.target.closest(".selection-tile-container.disabled-tile")&&(i.preventDefault(),i.stopImmediatePropagation())}initializeCustomValidation(){const i=this.control;i&&(this._customValidation?i.addValidators(this.customValidator):i.removeValidators(this.customValidator),i.updateValueAndValidity())}get control(){return this.ngControl?this.ngControl.control:this._control}_onTileClick(i,o,t){const n=[...this._selectionTiles];n.forEach(s=>s.tabIndex="-1"),n[t].tabIndex="0"}_setDefaultValue(){"string"==typeof this.tiles&&(this.tiles=JSON.parse(this.tiles)),this._setTileValue(!0,this.defaultValue||"")}_checkKey(i,o,t){const n=[...this._selectionTiles];if(o&&o.disabled){const s=document?.activeElement?.parentNode?.nextSibling;s&&"function"==typeof s?.focus&&s?.focus()}else if("ArrowRight"===i?.key||"ArrowDown"===i?.key){i?.preventDefault(),n[t].tabIndex="-1";const s=t===this._selectionTiles.length-1?0:t+1;n[s].tabIndex="0",n[s].focus()}else if("ArrowLeft"===i?.key||"ArrowUp"===i?.key){i?.preventDefault(),n[t].tabIndex="-1";const s=0===t?this._selectionTiles.length-1:t-1;n[s].tabIndex="0",n[s].focus()}}_setChangedValue(i){const o=this._setTileValue(i?.checked,this.multiple?[i?.value]:i?.value);this.quiSelectedChange.emit(o),void 0!==i.checked&&(this.writeValue(o),this.control&&(this.control.markAsTouched(),this.control.markAsDirty()))}markAsTouched(){if(!this._touched){this._touched=!0;const i=this.control;i&&(i.markAsTouched(),i.updateValueAndValidity(),i.markAsDirty())}}writeValue(i){(""===i||null===i)&&(this._tileValue="",this.defaultValue="",this.tiles.forEach(o=>o.checked=!1)),this._tileValue!==i&&i&&(this._tileValue=i,this.defaultValue=i,this.control&&this.control.setValue(i))}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){for(const o of this.tiles)o.disabled=i}_setTileValue(i,o){let t;if(this.multiple){const n=[];if("string"==typeof o)return t=this.tiles.find(s=>s?.value===o),t&&(t.checked=i),n.push(o),n;for(const s of o)t=this.tiles.find(h=>h?.value===s),t&&(t.checked=i);for(const s of this.tiles)s?.checked&&n.push(s?.value);return n}return this.tiles?.length&&(this.tiles.map(n=>{n.checked=!1}),t=this.tiles.find(n=>n?.value===o),t&&(t.checked=!0)),o}focus(i){this.ngZone.run(()=>{this._tile=this._selectionTiles.get(i||0),this._tile?.focus()})}ngOnDestroy(){this.host.nativeElement.removeEventListener("click",this._processClickEventBound)}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(_.a5,10),e.Y36(e.R0b))};static#i=this.\u0275cmp=e.Xpm({type:r,selectors:[["qui-ng-selection-tile-group"]],viewQuery:function(o,t){if(1&o&&e.Gf(m.SelectionTileComponent,5),2&o){let n;e.iGM(n=e.CRH())&&(t._selectionTiles=n)}},inputs:{quiAriaLabel:"quiAriaLabel",quiAriaDescribedby:"quiAriaDescribedby",quiAriaLabelledby:"quiAriaLabelledby",tiles:"tiles",orientation:"orientation",multiple:["multiple","multiple",e.VuI],defaultValue:"defaultValue",customValidation:"customValidation"},outputs:{quiSelectedChange:"quiSelectedChange"},features:[e.Xq5,e.TTD],decls:2,vars:2,consts:[["ngDefaultControl","","class","selection-group",3,"ngModel","ngModelChange",4,"ngIf"],["ngDefaultControl","","class","selection-group","role","listbox",3,"ngModel","ngModelChange",4,"ngIf"],["ngDefaultControl","",1,"selection-group",3,"ngModel","ngModelChange"],[3,"tabIndex","checked","value","multiple","disabled","quiAriaLabel","quiAriaLabelledby","quiAriaDescribedby","quiSelectedChange","keydown","click",4,"ngFor","ngForOf"],[3,"tabIndex","checked","value","multiple","disabled","quiAriaLabel","quiAriaLabelledby","quiAriaDescribedby","quiSelectedChange","keydown","click"],["icon","",3,"iconName"],["header",""],["content",""],["ngDefaultControl","","role","listbox",1,"selection-group",3,"ngModel","ngModelChange"],[3,"tabIndex","checked","value","multiple","role","disabled","quiAriaLabel","quiAriaLabelledby","quiAriaDescribedby","quiSelectedChange","click","keydown",4,"ngFor","ngForOf"],[3,"tabIndex","checked","value","multiple","role","disabled","quiAriaLabel","quiAriaLabelledby","quiAriaDescribedby","quiSelectedChange","click","keydown"]],template:function(o,t){1&o&&(e.YNc(0,c,2,6,"mat-radio-group",0),e.YNc(1,l,2,6,"span",1)),2&o&&(e.Q6J("ngIf",!t.multiple&&(null==t.tiles?null:t.tiles.length)),e.xp6(1),e.Q6J("ngIf",t.multiple&&(null==t.tiles?null:t.tiles.length)))},dependencies:[g.sg,g.O5,p.VQ,q.o,_.Fj,_.JJ,_.On,m.SelectionTileComponent],encapsulation:2})}return r})(),d=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#i=this.\u0275mod=e.oAB({type:r});static#t=this.\u0275inj=e.cJS({imports:[g.ez,p.Fk,q.Q,_.u5,T.nD,m.SelectionTileModule]})}return r})()},6569:(I,C,u)=>{u.d(C,{Q:()=>A,o:()=>m});var g=u(6814),_=u(9862),e=u(5879),p=u(3214);function q(c,y){if(1&c&&(e.O4$(),e.kcU(),e._UZ(0,"qui-ng-badge",2)),2&c){const l=e.oxw();e.Q6J("appearance",l.badgeConfig.appearance||"dot")("color",l.badgeConfig.color)("content",l.badgeConfig.content)("offsetX",l.badgeConfig.offsetX||0)("offsetY",l.badgeConfig.offsetY||0)("hidden",l.badgeConfig.hidden||!1)("description",l.badgeConfig.description||"")}}let T=(()=>{class c{constructor(l){this.http=l}getIconsSprite(l){return this.http.get(`${l}`,{responseType:"text"})}static#e=this.\u0275fac=function(a){return new(a||c)(e.LFG(_.eN))};static#i=this.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),m=(()=>{class c{get hostClass(){return this.tier>1?`qui-tier-${this.tier}-icon qui-icon`:"qui-icon"}set tier(l){this._tier=l}get tier(){return void 0===this._tier?this.iconHref?.includes("tier-2")?2:this.iconHref?.includes("tier-3")?3:1:this._tier}constructor(l,a){this.iconService=l,this.renderer=a,this.window=window,this.size=null,this.iconName="check",this.quiAriaLabel=null,this.iconHref=null,this.quiError=new e.vpe,this.quiLoad=new e.vpe,this._defaultIconHref=new Map([[1,this.window?.qui?.settings?.ICON_HREF||"https://a.tiaa-cdn.net/public/ui/global/images/qui/ethos-1/qui-icons-sprite.svg"],[2,this.window?.qui?.settings?.ICON_HREF_TIER_2||"https://a.tiaa-cdn.net/public/ui/global/images/qui/ethos-2/qui-icons-tier-2-sprite.svg"]])}ngOnInit(){this.iconHref=this.iconHref||this._defaultIconHref.get(this.tier),this._fetchIcons(this.iconHref),("large"===this.size||"medium"===this.size||"small"===this.size)&&console.warn(`%c[QUI] DEPRECATION NOTICE: the value of ${this.size} for iconSize is deprecated and will be removed on or around 6 Dec 2024. Use one of the t-shirt sizes instead.`,"color: red")}_fetchIcons(l){if(!document.querySelectorAll(`[svg-src="${l}"]`).length&&null!==l){const a=this.renderer.createElement("div");this.renderer.addClass(a,"qui-icon-sprite"),this.renderer.setAttribute(a,"svg-src",l),this.renderer.setStyle(a,"display","none"),this.renderer.setAttribute(a,"aria-hidden","true"),this.renderer.insertBefore(document.body,a,document.body.childNodes[0]),this.iconService.getIconsSprite(l).subscribe({next:d=>{this.renderer.setProperty(a,"innerHTML",d),this._monitorIconLoad()},error:d=>{console.error("Error while fetching qui svg-sprite",d)}})}}ngOnChanges(l){l.badgeConfig&&"string"==typeof this.badgeConfig&&(this.badgeConfig=JSON.parse(this.badgeConfig)),l.iconHref&&l.iconHref.previousValue!==l.iconHref.currentValue&&(this.tier&&"string"==typeof this.tier&&""!==this.tier&&(this.tier=parseInt(this.tier)),this.iconHref=this.iconHref||this._defaultIconHref.get(this.tier),this._fetchIcons(this.iconHref)),l.iconName&&this._monitorIconLoad(),l.tier&&l.tier.currentValue!==l.tier.previousValue&&(this.tier&&"string"==typeof this.tier&&""!==this.tier&&(this.tier=parseInt(this.tier)),this.iconHref=this._defaultIconHref.get(this.tier),this._fetchIcons(this.iconHref)),l.iconSize&&("small"===l.iconSize.currentValue||"medium"===l.iconSize.currentValue||"large"===l.iconSize.currentValue)&&console.warn(`%c[QUI] DEPRECATION NOTICE: the value of ${l.iconSize.currentValue} for iconSize is deprecated and will be removed on or around 6 Dec 2024. Use one of the t-shirt sizes instead.`,"color: red")}_monitorIconLoad(){this.iconName&&(document.querySelector(`#${this.iconName}`)?this.quiLoad.emit():this.quiError.emit({message:`${this.iconName} symbol not found`}))}static#e=this.\u0275fac=function(a){return new(a||c)(e.Y36(T),e.Y36(e.Qsj))};static#i=this.\u0275cmp=e.Xpm({type:c,selectors:[["qui-ng-icon"]],hostVars:2,hostBindings:function(a,d){2&a&&e.Tol(d.hostClass)},inputs:{size:"size",color:"color",tier:["tier","tier",e.Cb_],iconName:"iconName",quiAriaLabel:"quiAriaLabel",iconHref:"iconHref",badgeConfig:"badgeConfig"},outputs:{quiError:"quiError",quiLoad:"quiLoad"},features:[e.Xq5,e.TTD],decls:3,vars:6,consts:[["role","img",3,"load"],[3,"appearance","color","content","offsetX","offsetY","hidden","description",4,"ngIf"],[3,"appearance","color","content","offsetX","offsetY","hidden","description"]],template:function(a,d){1&a&&(e.O4$(),e.TgZ(0,"svg",0),e.NdJ("load",function(){return d._monitorIconLoad()}),e._UZ(1,"use"),e.qZA(),e.YNc(2,q,1,7,"qui-ng-badge",1)),2&a&&(e.uIk("size",d.size)("color",d.color)("aria-label",d.quiAriaLabel)("aria-hidden",!d.quiAriaLabel||null),e.xp6(1),e.uIk("href","#"+d.iconName),e.xp6(1),e.Q6J("ngIf",d.badgeConfig))},dependencies:[g.O5,p.F],encapsulation:2})}return c})(),A=(()=>{class c{static#e=this.\u0275fac=function(a){return new(a||c)};static#i=this.\u0275mod=e.oAB({type:c});static#t=this.\u0275inj=e.cJS({imports:[g.ez,_.JF,p.T]})}return c})()}}]);