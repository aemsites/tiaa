"use strict";(self.webpackChunkqui_wc=self.webpackChunkqui_wc||[]).push([["popover-element"],{7274:(L,P,r)=>{r.r(P),r.d(P,{PopoverComponent:()=>S,PopoverModule:()=>A});var C=r(6814),i=r(5879),d=r(4300),b=r(3651),y=r(9773),m=r(7394),c=r(8645),k=r(8484),O=r(5348),u=r(2831),R=r(6211);function B(p,W){1&p&&i._UZ(0,"div",3)}const q=["*"];let M=0,S=(()=>{class p extends b.Xj{get class(){return this.isPopoverOpen?"qui-popover-open":""}get autoFocus(){return(0,O.nL)(this._autoFocus,"first-tabbable")}set autoFocus(e){this._autoFocus=e}set container(e){let t;"string"==typeof e&&(t=document.querySelector(e)||document),this._container=t}get container(){return this._container}set placement(e){let t=e;"string"==typeof e&&(t=e.split(",")),this._placement=t}get placement(){return this._placement.length?this._placement:["below","center"]}set positionTarget(e){let t;"string"==typeof e&&(t=document.querySelector(e)||document,this._positionTargetElement=t),this._positionTarget=e}get positionTarget(){return this._positionTarget}set popoverTrigger(e){e!==this._popover&&(this._popover=e,this._popoverCloseSubscription.unsubscribe(),e&&(this._popoverCloseSubscription=e.hidden.subscribe(t=>(this.detachOverlay(!1),t))))}get popoverTrigger(){return this._popover}constructor(e,t,o,n,s,f,l){super(document,s),this.elementRef=e,this._ngZone=t,this.overlay=o,this.vcr=n,this._platformInstance=s,this.commonUtility=f,this.ref=l,this.hostClass=!0,this.autoClose=!0,this.closeDelay=0,this.disabled=!1,this.openDelay=0,this.popperOptions={},this.triggers="click",this.offsetX=null,this.offsetY=null,this.hasBackdrop=!1,this.enableAnchor=!1,this.closeOnPanelClick=!1,this.backdropClass="qui-popover-backdrop-transparent",this.overlayPanelClass="",this.hidden=new i.vpe,this.shown=new i.vpe,this._positionTargetElement=null,this._positionTargetElementButton=null,this._offsetX=0,this.isPanelOpen=!1,this._placement=[],this.closeDisabled=!1,this._classList={},this._animation=!0,this.arrowWidth=16,this.arrowHeight=16,this.arrowOffsetX=20,this.arrowOffsetY=20,this.panelId="qui-popover-panel-"+M++,this.direction="ltr",this.closeOnClickOutside=!0,this._popoverCloseSubscription=m.w0.EMPTY,this._positionSubscription=m.w0.EMPTY,this._openedBy="",this._halt=!1,this.dir="ltr",this.unsubscribe=new c.x,this.defaultPlacement=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}],this.isOpen=()=>{const h=this.overlayRef;return!!h&&h?.hasAttached()},this.elementRef.nativeElement.open=this.open.bind(this),this.elementRef.nativeElement.toggle=this.toggle.bind(this),this.elementRef.nativeElement.close=this.close.bind(this),this.elementRef.nativeElement.overlay=this.overlay,this.elementRef.nativeElement.getOverlayRef=this.getOverlayRef.bind(this),this.elementRef.nativeElement.controlInstance=this,this.isPopoverOpen=this.isOpen()}getOverlayRef(){return this.overlayRef}open(e){return this._ngZone.run(()=>{this.commonUtility.setOverlayWrapper(this.elementRef.nativeElement),this.attachOverlay()}),e}toggle(){this._ngZone.run(()=>{this.commonUtility.setOverlayWrapper(this.elementRef.nativeElement),this.toggleOverlay()})}close(e){this._ngZone.run(()=>{this.detachOverlay(e)})}_createContainer(){const e=document.createElement("div");e.classList.add("app-overlay-container"),(document.querySelector("#content-container")||document).appendChild(e),this._containerElement=e}_handleMouseOver(){"hover"===this.triggers&&(this.closeDisabled=!0)}ngOnChanges(e){e.enableAnchor?.currentValue&&this.overlayRef?.hasAttached()&&!e.enableAnchor?.firstChange&&(this.detachOverlay(!1),this.attachOverlay())}ngAfterViewInit(){this._setPositionTargetElement()}ngOnDestroy(){this.detachOverlay(!1),this.overlayRef.dispose(),this.unsubscribe.next(""),this.unsubscribe.complete(),this._popoverCloseSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._containerElement?.remove()}_setPositionTargetElement(){if(this._positionTargetElement instanceof Document){const t=document.querySelector(this.positionTarget);null!==t&&t!==this._positionTargetElement&&(this._positionTargetElement=t)}this._positionTargetElementButton=this._positionTargetElement?.querySelector("button"),this.createOverlay(),this._positionTargetElementButton&&(this._positionTargetElementButton.setAttribute("aria-controls",`${this.panelId}`),this._positionTargetElementButton.ariaExpanded=!1,this._positionTargetElementButton.ariaHasPopup=!0)}_handleClick(e){e?.stopPropagation(),this.closeOnPanelClick&&(this.commonUtility.setOverlayWrapper(this.elementRef.nativeElement),this.toggleOverlay(e))}_handleMouseEnter(e){this._halt=!1,e?.stopPropagation(),"hover"===this.triggers&&(this._mouseoverTimer=setTimeout(()=>{this.commonUtility.setOverlayWrapper(this.elementRef.nativeElement),this.attachOverlay()},this.openDelay))}_handleMouseLeave(e){if(e?.stopPropagation(),"hover"===this.triggers){this.closeDisabled=!1,this._mouseoverTimer&&(clearTimeout(this._mouseoverTimer),this._mouseoverTimer=null);const t=this._positionTargetElement,o=e.relatedTarget,s=e.currentTarget?.contains(o)||t.contains(o);this.closeDisabled?this._halt=!0:setTimeout(()=>{this.autoClose&&!s&&(this.detachOverlay(!1),this.closeDisabled=!1)},this.closeDelay)}}_handleMousedown(e){(0,d.X6)(e)||(this._openedBy=0===e.button?"mouse":void 0)}_handleKeydown(e){const t=e.code||e.key;"Enter"===t||"Space"===t?(this._openedBy="keyboard",this.open("")):"Escape"===t&&this.close(this.animation)}setCurrentStyles(e=this.placement){const t="after"===e[1]?this.arrowOffsetX-this.arrowWidth/2+"px":"center"===e[1]?`calc(50% - ${this.arrowWidth/2}px)`:"",o="before"===e[1]?this.arrowOffsetX-this.arrowWidth/2+"px":"";this.arrowStyles="above"===e[0]||"below"===e[0]?{left:"ltr"===this.direction?t:o,right:"ltr"===this.direction?o:t}:{top:"below"===e[1]?this.arrowOffsetY-this.arrowHeight/2+"px":"",bottom:"above"===e[1]?this.arrowOffsetY-this.arrowHeight/2+"px":"center"===e[1]?`calc(50% - ${this.arrowHeight/2}px)`:""}}setPositionClasses(e=this.placement){"string"==typeof this._classList&&(this._classList={}),this._classList["qui-popover-before-above"]="before"===e[0]&&"above"===e[1],this._classList["qui-popover-before-center"]="before"===e[0]&&"center"===e[1],this._classList["qui-popover-before-below"]="before"===e[0]&&"below"===e[1],this._classList["qui-popover-after-above"]="after"===e[0]&&"above"===e[1],this._classList["qui-popover-after-center"]="after"===e[0]&&"center"===e[1],this._classList["qui-popover-after-below"]="after"===e[0]&&"below"===e[1],this._classList["qui-popover-above-before"]="above"===e[0]&&"before"===e[1],this._classList["qui-popover-above-center"]="above"===e[0]&&"center"===e[1],this._classList["qui-popover-above-after"]="above"===e[0]&&"after"===e[1],this._classList["qui-popover-below-before"]="below"===e[0]&&"before"===e[1],this._classList["qui-popover-below-center"]="below"===e[0]&&"center"===e[1],this._classList["qui-popover-below-after"]="below"===e[0]&&"after"===e[1]}_subscribeToPositions(e){this._positionSubscription=e.positionChanges.subscribe(t=>{if(!this.enableAnchor)return;const o=this.overlayRef?.overlayElement.querySelector(".qui-popover-container"),n=o.querySelector(".qui-popover-direction-arrow");let s="";const f="start"===t.connectionPair.overlayX?"after":"end"===t.connectionPair.overlayX?"before":"center",l="top"===t.connectionPair.overlayY?"below":"bottom"===t.connectionPair.overlayY?"above":"center",h="above"===this.placement[0]||"below"===this.placement[0]?[l,f]:[f,l];this.enableAnchor&&(this.setCurrentStyles(h),this.setPositionClasses(h)),s="";for(const a in this.arrowStyles)""!==this.arrowStyles[a]&&(s+=`${a}:${this.arrowStyles[a]};`);n.style.cssText=s;for(const a in this._classList)this._classList[a]?o.classList.add(a):o.classList.remove(a);o.classList.add(this.animation?"qui-panel-active":"no-animation"),this._positionTargetElementButton&&(this._positionTargetElementButton.ariaExpanded=!0),this._setPopoverFocus(o)})}_getOverlayConfig(){return new b.X_({positionStrategy:this.overlay.position().flexibleConnectedTo(this._positionTargetElement),backdropClass:this.backdropClass||"",panelClass:this.overlayPanelClass||"",scrollStrategy:this.overlay.scrollStrategies.reposition(),hasBackdrop:this.hasBackdrop})}createOverlay(){const e=this._getOverlayConfig(),t=e.positionStrategy;this._subscribeToPositions(t),this._setPosition(t),this.overlayRef=this.overlay.create(e),this.overlayRef.backdropClick().pipe((0,y.R)(this.unsubscribe)).subscribe(o=>{this.closeOnClickOutside&&this.detachOverlay(!1,o)}),this.overlayRef.outsidePointerEvents().subscribe(o=>{this.closeOnClickOutside&&this.detachOverlay(!1,o)}),this.overlayRef.detachments().pipe((0,y.R)(this.unsubscribe)),this.setCurrentStyles(["below","after"])}attachOverlay(){if(!this.overlayRef.hasAttached()){if(this.disabled)return;const e=new k.Xp(this.elementRef.nativeElement);this._setPositionTargetElement();const t=this.overlayRef.getConfig(),o=t.positionStrategy;o._origin=this._positionTargetElement,this._setPosition(o),t.hasBackdrop=this.hasBackdrop,this.overlayRef.attach(e),this.isPopoverOpen=this.isOpen(),this.ref.detectChanges();const n=this.overlayRef?.overlayElement.querySelector(".qui-popover-container");if(n){const s=this.animation?"qui-panel-active":"no-animation";n?.classList.add(s),this.enableAnchor||this._positionTargetElementButton&&(this._positionTargetElementButton.ariaExpanded=!0),this._setPopoverFocus(n).then(()=>{this.shown.emit()})}}}_setPopoverFocus(e){return new Promise((t,o)=>{if(e){let n=null;const s={tabbable:'button,a,input,textarea,[tabindex="0"]:not([aria-hidden="true"])',heading:"h1, h2, h3, h4, h5, h6"},f=l=>e.querySelector(l in s?s[l]:l);"first-tabbable"===this.autoFocus?["tabbable","heading"].some(l=>n=f(l)):n=f(this.autoFocus),n=n||e,n.matches(s.tabbable)||n.hasAttribute("tabindex")||(n.tabIndex=-1),requestAnimationFrame(()=>{n?.focus(),t()})}else o()})}_setPosition(e){const[t,o,n]="before"===this.placement[0]||"after"===this.placement[1]?["start","center","end"]:"after"===this.placement[0]||"before"===this.placement[1]?["end","center","start"]:["center","start","end"],[s,f,l]="above"===this.placement[0]||"below"===this.placement[1]?["top","center","bottom"]:"below"===this.placement[0]||"above"===this.placement[1]?["bottom","center","top"]:["center","top","bottom"],[h,E]="below"===this.placement[0]||"above"===this.placement[0]?[t,t]:"before"===this.placement[0]?["end","start"]:["start","end"],[a,T]="before"===this.placement[0]||"after"===this.placement[0]?[s,s]:"below"===this.placement[0]?["top","bottom"]:["bottom","top"],D=h,w=a,I=new Map([["end-top-end-bottom",{offsetXDefault:0,offsetYDefault:0}],["start-top-start-bottom",{offsetXDefault:0,offsetYDefault:0}],["center-top-center-bottom",{offsetXDefault:0,offsetYDefault:0}],["end-bottom-end-top",{offsetXDefault:0,offsetYDefault:8}],["start-bottom-start-top",{offsetXDefault:0,offsetYDefault:8}],["center-bottom-center-top",{offsetXDefault:0,offsetYDefault:8}],["start-bottom-end-bottom",{offsetXDefault:-8,offsetYDefault:0}],["start-top-end-top",{offsetXDefault:-8,offsetYDefault:0}],["start-center-end-center",{offsetXDefault:-8,offsetYDefault:0}],["end-bottom-start-bottom",{offsetXDefault:8,offsetYDefault:0}],["end-top-start-top",{offsetXDefault:8,offsetYDefault:0}],["end-center-start-center",{offsetXDefault:8,offsetYDefault:0}]]),U=`${t}-${s}-${h}-${a}`,{offsetXDefault:Y,offsetYDefault:F}=I.get(U)||{offsetXDefault:0,offsetYDefault:0};let _=this.offsetX&&!isNaN(Number(this.offsetX))?Number(this.offsetX):Y;_="ltr"===this.dir?Y:-Y;const g=this.offsetY&&!isNaN(Number(this.offsetY))?Number(this.offsetY):F;let X=[{originX:t,originY:s,overlayX:h,overlayY:a}];("above"===this.placement[0]||"below"===this.placement[0])&&(X=[{originX:t,originY:s,overlayX:h,overlayY:a,offsetY:g},{originX:o,originY:s,overlayX:o,overlayY:a,offsetY:g},{originX:n,originY:s,overlayX:n,overlayY:a,offsetY:g},{originX:t,originY:w,overlayX:h,overlayY:T,offsetY:-g},{originX:o,originY:w,overlayX:o,overlayY:T,offsetY:-g},{originX:n,originY:w,overlayX:n,overlayY:T,offsetY:-g}]),("before"===this.placement[0]||"after"===this.placement[0])&&(X=[{originX:t,originY:s,overlayX:h,overlayY:a,offsetX:_},{originX:t,originY:f,overlayX:h,overlayY:f,offsetX:_},{originX:t,originY:l,overlayX:h,overlayY:l,offsetX:_},{originX:D,originY:s,overlayX:E,overlayY:a,offsetX:-_},{originX:D,originY:f,overlayX:E,overlayY:f,offsetX:-_},{originX:D,originY:l,overlayX:E,overlayY:l,offsetX:-_}]),e.withPositions(X).withDefaultOffsetX(_).withDefaultOffsetY(g)}detachOverlay(e,t){if(this.overlayRef.hasAttached()){const o=this.overlayRef?.overlayElement.querySelector(".qui-popover-container"),n=()=>{this.closeOverlay(t)};e?(o.removeEventListener("transitionend",n),o.addEventListener("transitionend",n),o.classList.remove("qui-panel-active"),this.closeOverlay(t)):this.closeOverlay(t)}}closeOverlay(e){this.overlayRef.detach(),this._positionTargetElementButton&&(this._positionTargetElementButton.ariaExpanded=!1,this._positionTargetElementButton.focus()),this.hidden.emit(e),this.isPopoverOpen=this.isOpen(),this.ref.detectChanges()}toggleOverlay(e){return this.overlayRef.hasAttached()?this.detachOverlay(!1,e):this.attachOverlay()}static#e=this.\u0275fac=function(t){return new(t||p)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(b.aV),i.Y36(i.s_b),i.Y36(u.t4),i.Y36(R.U),i.Y36(i.sBO))};static#t=this.\u0275cmp=i.Xpm({type:p,selectors:[["qui-ng-popover"]],hostVars:4,hostBindings:function(t,o){1&t&&i.NdJ("click",function(s){return o._handleClick(s)})("mouseenter",function(s){return o._handleMouseEnter(s)})("mouseleave",function(s){return o._handleMouseLeave(s)})("mousedown",function(s){return o._handleMousedown(s)})("keydown",function(s){return o._handleKeydown(s)}),2&t&&(i.Tol(o.class),i.ekj("qui-popover",o.hostClass))},inputs:{animation:"animation",autoClose:"autoClose",autoFocus:"autoFocus",closeDelay:"closeDelay",container:"container",disabled:"disabled",openDelay:"openDelay",placement:"placement",popperOptions:"popperOptions",positionTarget:"positionTarget",triggers:"triggers",offsetX:"offsetX",offsetY:"offsetY",hasBackdrop:["hasBackdrop","hasBackdrop",i.VuI],enableAnchor:["enableAnchor","enableAnchor",i.VuI],closeOnPanelClick:"closeOnPanelClick",backdropClass:"backdropClass",overlayPanelClass:"overlayPanelClass",popoverTrigger:"popoverTrigger",closeOnClickOutside:"closeOnClickOutside"},outputs:{hidden:"hidden",shown:"shown"},features:[i.Xq5,i.qOj,i.TTD],ngContentSelectors:q,decls:4,vars:2,consts:[["tabindex","-1",1,"qui-popover-container",3,"id","keydown","click","mouseover","mouseleave"],["cdkTrapFocus","",1,"qui-popover-content"],["class","qui-popover-direction-arrow",4,"ngIf"],[1,"qui-popover-direction-arrow"]],template:function(t,o){1&t&&(i.F$t(),i.TgZ(0,"div",0),i.NdJ("keydown",function(s){return o._handleKeydown(s)})("click",function(s){return o._handleClick(s)})("mouseover",function(){return o._handleMouseOver()})("mouseleave",function(s){return o._handleMouseLeave(s)}),i.TgZ(1,"div",1),i.Hsn(2),i.qZA(),i.YNc(3,B,1,0,"div",2),i.qZA()),2&t&&(i.Q6J("id",o.panelId),i.xp6(3),i.Q6J("ngIf",o.enableAnchor))},dependencies:[C.O5,d.mK],encapsulation:2,changeDetection:0})}return p})(),A=(()=>{class p{static#e=this.\u0275fac=function(t){return new(t||p)};static#t=this.\u0275mod=i.oAB({type:p});static#o=this.\u0275inj=i.cJS({providers:[b.aV],imports:[C.ez,b.U8,d.rt]})}return p})()},6211:(L,P,r)=>{r.d(P,{U:()=>i});var C=r(5879);let i=(()=>{class d{setOverlayWrapper(y){const m=document.querySelectorAll(".cdk-overlay-container");let c=document.querySelector(".qui-overlay-container");m.length&&(m.forEach(u=>{u?.parentElement?.classList.contains("qui-overlay-container")||(c?c.appendChild(u):(c=document.createElement("div"),c.classList.add("qui-overlay-container"),c.appendChild(u),document.body.append(c)))}),c?.getAttribute("aria-hidden")&&c?.removeAttribute("aria-hidden"));const O=y.closest('[class*="-theme"]')?.className.split(" ").filter(u=>u.includes("-theme"))[0];O&&(c?.classList.contains(O)||(c?.classList.forEach(u=>{u.includes("-theme")&&c?.classList.remove(u)}),c?.classList.add(O)))}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()}}]);